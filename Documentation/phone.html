<html>
<head>
	<title>C++ Phone Documentation</title>
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css">
	<script type="text/javascript" href="bootstrap/js/bootstrap.js"></script>

	<style type="text/css">
		.navbar{
			    background-color: #080808;

		}
		#head{
			text-align: -webkit-center;
		}
		#instBody{
			    margin-left: 10%;
		}
		#boot{
			    float: right;
    			margin-top: -2%;
		}
        #dataMember{
                margin-left: 10%;
        }
        #dataMember em{
            color:#0C6317;
        }

	</style>

</head>
<body>

	<!-- Navigation bar -->
<nav class="navbar navbar-default navbar-static-top">
  		<div class="container">
  			<h4> <a href="index.html">C++ Phone Documentation</a></h4>
      	</div>
</nav>

	<!-- main body -->
	<div class="container">
		<div class="col-md-3">
		      <!-- Left column for index of content -->


            <div class="list-group"><br><br>

  <button type="button" class="list-group-item" disabled="disabled"> <a href="person.html">Person.h</a></button>
  <button type="button" class="list-group-item"><a href="phone.html">Phone.h</a></button>
  <button type="button" class="list-group-item"><a href="phonecall.html">PhoneCall.h</a></button>
  <button type="button" class="list-group-item"><a href="phonebook.html">PhoneBook.h</a></button>
  <button type="button" class="list-group-item"><a href="registerPerson.html">RegisterPerson.h</a></button>
  <button type="button" class="list-group-item"><a href="sms.html">SMS.h</a></button>
  <button type="button" class="list-group-item"><a href="methods.html">Methods.h</a></button>
  <button type="button" class="list-group-item"><a href="options.html">Options.h</a></button>
  <button type="button" class="list-group-item"><a href="sfml.html">SFML.h</a></button>
  <button type="button" class="list-group-item"><a href="calculator.html">Calculator.h</a></button>
            </div><br>


            <div class="list-group">

        <button type="button" class="list-group-item"><a href="headerFunctions.html#iostream">< iostream ></a></button>
          <button type="button" class="list-group-item"><a href="headerFunctions.html#ctime">< ctime ></a></button>
            <button type="button" class="list-group-item"><a href="headerFunctions.html#string">< string ></a></button>
              <button type="button" class="list-group-item"><a href="headerFunctions.html#sstream">< sstream ></a></button>
              <button type="button" class="list-group-item"><a href="headerFunctions.html#cstdlib">< cstdlib ></a></button>
               <button type="button" class="list-group-item"><a href="headerFunctions.html#cstdio">< cstdio ></a></button>
                <button type="button" class="list-group-item"><a href="headerFunctions.html#algorithm">< algorithm ></a></button>
              
              <button type="button" class="list-group-item"><a href="headerFunctions.html#fstream">< fstream ></a></button>
              <button type="button" class="list-group-item"><a href="headerFunctions.html#limits">< limits ></a></button>
              <button type="button" class="list-group-item"><a href="headerFunctions.html#cmath">< cmath ></a></button>

               <button type="button" class="list-group-item"><a href="headerFunctions.html#vector">< vector ></a></button>
              <button type="button" class="list-group-item"><a href="headerFunctions.html#map">< map ></a></button>


        </div><br>

      <div class="list-group">

        <button type="button" class="list-group-item"><a href="howtoSFML.html">How to set up SFML </a></button>
        <button type="button" class="list-group-item"><a href="howtorun.html">How to run the software </a></button>
                <button type="button" class="list-group-item"><a href="howitworks.html">How it works </a></button>

        </div><br>


        </div>
<div class="col-md-9">
				<div class="col-md-9">
			<h1><i>&nbsp&nbspPhone.h </i></h1>
            <p>This header file deifnes the class <strong>Phone </strong></p>
            <hr><br>
            <h3>Brief Description: </h3>

             <br><p>- Creates a new Phone</p>
            <p>- Methods to find and change a particular phone number

</p>
<p>- Methods to add/update phone credit/balance
</p>
<p>- A Call History containing all the calls made and their details
</p>
    
    <br>
            <h3>Data Members <small>[private] </small></h3>

            <div id="dataMember">
            <li><em>string</em>  phoneNumber</li>
            <li><em>double</em> phoneCredit</li>
            </div><br>

            <h3>Member Functions <small>[public] </small></h3>
                <div id="dataMember">
            <li>Phone() <small>&nbsp [default constructor]</small></li>
            <li>Phone(<em>int</em> id)<small> &nbsp [parameterize constructor]</small></li>

             <li><em>void </em>  setPhoneNumber(<em>int</em>personId)</li>
            <li><em>void</em>  setPhoneCredit(<em>double</em> phoneCredit)</li>
            <li><em>void</em>  newPhoneCall(<em>string</em> num)</li>
             <li><em>string</em> getPhoneNumber()</li>
            <li><em>double</em>  getPhoneCredit()</li>
             <li><em>void</em>  newPhoneCall(<em>string</em> num)</li>
             <li><em>int</em>  getCallHistorySize()</li>
             <li><em>string</em> getYear()</li>
             <li><em>PhoneCall</em> getCallHistory( <em>int</em> index)</li>

            </div><br>

            <h3>Static Members <small>[public] </small></h3>
                <div id="dataMember">
                    <li><em>string</em>  basePhoneNumber</li>
                    <li><em>int</em>  phoneCount</li>
                    <li><em>int</em>  getPhoneCount()</li>
                </div><br>
                 <h3>Containers </h3>
                <div id="dataMember">
                    <li><strong>vector</strong><<em>PhoneCall</em>>  callHistory</li>
                    <br>
                    </div>
                <h3>Code </h3>
            

			<div id="code">
					<!-- CODE -->
<pre>
/*
    This Class contains members and member functions for a Phone object
    Phone objects access PhoneCall members so, PhoneCall.h is included
    <vector> is introduced here, the following references contributed to this code:

    http://stackoverflow.com/questions/8221702/accessing-elements-of-a-vector-in-c
    http://www.cplusplus.com/reference/vector/vector/operator[]/
*/

#include "PhoneCall.h"
#include< vector >
using namespace std;

class Phone{
    private:
        string phoneNumber;
        double phoneCredit;
        vector<PhoneCall>callHistory;
    public:
        Phone();
        Phone(int id);

        void setPhoneNumber(int personId);
        void setPhoneCredit(double phoneCredit);

        string getPhoneNumber();
        double getPhoneCredit();


        static string basePhoneNumber;
        static int phoneCount;
        static int getPhoneCount();

        void newPhoneCall(string num);
        PhoneCall getCallHistory(int index);
        int getCallHistorySize();
        string getYear();
};
Phone::Phone(){
    this->phoneNumber="";
    this->phoneCredit=0;
}

Phone::Phone(int id){
        phoneCount++;
        this->setPhoneNumber(id);
        this->phoneCredit=0;
}

void Phone::setPhoneNumber(int personId){
    stringstream ss1,ss2,ss3,ss4,ss5;
    string temp;
    long int i_number;

    string number=basePhoneNumber+getYear();
    number=number+"000";
    ss1<<number;
    ss1>>i_number;

    i_number=i_number+personId;
    ss2<<i_number;
    ss2>>number;

    number=number+"00";
    ss3<<number;
    ss3>>i_number;

    i_number=i_number+phoneCount;
    ss4<<i_number;
    ss4>>number;

    int lnum=rand()%10;
    ss5<<lnum;
    ss5>>temp;
    number="0"+number+temp;

    this->phoneNumber=number;
}
void Phone::setPhoneCredit(double phoneCredit){
        this->phoneCredit=phoneCredit;
}

void Phone::newPhoneCall(string num){
        PhoneCall call(num);
        double credit=this->getPhoneCredit()-call.getCallCost();
        this->setPhoneCredit(credit);
        this->callHistory.push_back(call);
}

string Phone::getPhoneNumber(){
        return this->phoneNumber;
}
double Phone::getPhoneCredit(){
        return this->phoneCredit;
}

//static members
string Phone::basePhoneNumber="017";
int Phone::phoneCount=0;
int Phone::getPhoneCount(){
        return phoneCount;
}

PhoneCall Phone::getCallHistory(int index){
    return this->callHistory[index];
}
int Phone::getCallHistorySize(){
    return this->callHistory.size();              //returns the size of the callHistory vector
}

string Phone::getYear(){
        time_t clock=time(0);
        tm *now=localtime(&clock);
        int year=1900+(now->tm_year);

        string newYear="";
        for(int i=0;i<2;i++){
            stringstream ss;
            string stDigit;
            int digit=year%10;
            year=year/10;
            ss<<digit;
            ss>>stDigit;
            newYear=stDigit+newYear;
        }
        return newYear;
}

</pre>


			</div>
				</div>
		</div>
	</div>

				</div>



		</div>







	</div>






</body>
</html>